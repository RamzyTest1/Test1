<!-- Save as index.html -->
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Qwerty Shop - متجر أدوات المعدات</title>
  <style>
    /* All CSS here (same as yours, unchanged for brevity) */
    /* Paste your existing CSS here (already includes slider styles) */
    /* Only edit needed: product-card width line if you want dynamic sizing */
  </style>
</head>
<body>
  <!-- Top Banner -->
  <div class="top-banner">شحن مجاني على جميع الطلبات في الدار البيضاء</div>

  <!-- Main Header -->
  <header class="main-header">
    <div class="header-container">
      <!-- Logo Section -->
      <div class="logo-section">
        <div>
          <a href="#" class="logo">Qwerty Shop</a>
          <div class="logo-subtitle">متجر أدوات المعدات</div>
        </div>
      </div>

      <!-- Search Section -->
      <div class="search-section">
        <input type="text" class="search-input" placeholder="البحث عن المنتجات..." />
        <button class="search-btn">بحث</button>
      </div>

      <!-- User Section -->
      <div class="user-section">
        <a class="user-account"><div class="user-icon">👤</div>حسابي</a>
        <a class="user-account"><div class="heart-icon">❤️</div>المفضلة</a>
        <a class="user-account">
          <div class="cart-icon">🛒<span class="cart-badge">3</span></div>السلة
        </a>
      </div>
    </div>
  </header>

  <!-- Navigation -->
  <nav class="navigation">
    <div class="nav-container">
      <ul class="nav-menu">
        <li><a href="#">الرئيسية</a></li>
        <li><a href="#">المتجر</a></li>
        <li><a href="#">الوسائط</a></li>
        <li><a href="#">الصفحات</a></li>
        <li><a href="#">من نحن</a></li>
        <li><a href="#">اتصل بنا</a></li>
      </ul>
      <div class="contact-info">📞 اتصل بنا: +212 000 000 000</div>
    </div>
  </nav>

  <!-- Product Slider -->
  <section class="product-slider">
    <div class="slider-container">
      <h2 class="slider-title">منتجاتنا المميزة</h2>
      <div class="slider-wrapper">
        <div class="slider-track" id="sliderTrack">
          <!-- Products 1–12 -->
          <div class="product-card"><div class="product-image">🔧</div><div class="product-info"><h3 class="product-name">عدة أدوات كاملة</h3><p class="product-price">299 درهم</p><button class="product-btn">اشتري الآن</button></div></div>
          <div class="product-card"><div class="product-image">🔨</div><div class="product-info"><h3 class="product-name">مطرقة احترافية</h3><p class="product-price">89 درهم</p><button class="product-btn">اشتري الآن</button></div></div>
          <div class="product-card"><div class="product-image">⚡</div><div class="product-info"><h3 class="product-name">مثقاب كهربائي</h3><p class="product-price">450 درهم</p><button class="product-btn">اشتري الآن</button></div></div>
          <div class="product-card"><div class="product-image">🪚</div><div class="product-info"><h3 class="product-name">منشار يدوي</h3><p class="product-price">150 درهم</p><button class="product-btn">اشتري الآن</button></div></div>
          <div class="product-card"><div class="product-image">🔩</div><div class="product-info"><h3 class="product-name">مسامير وبراغي</h3><p class="product-price">45 درهم</p><button class="product-btn">اشتري الآن</button></div></div>
          <div class="product-card"><div class="product-image">📏</div><div class="product-info"><h3 class="product-name">مسطرة قياس</h3><p class="product-price">35 درهم</p><button class="product-btn">اشتري الآن</button></div></div>
          <div class="product-card"><div class="product-image">🔧</div><div class="product-info"><h3 class="product-name">مفاتيح إنجليزية</h3><p class="product-price">120 درهم</p><button class="product-btn">اشتري الآن</button></div></div>
          <div class="product-card"><div class="product-image">🛠️</div><div class="product-info"><h3 class="product-name">صندوق العدة</h3><p class="product-price">250 درهم</p><button class="product-btn">اشتري الآن</button></div></div>
          <div class="product-card"><div class="product-image">🧰</div><div class="product-info"><h3 class="product-name">حقيبة معدات متعددة</h3><p class="product-price">320 درهم</p><button class="product-btn">اشتري الآن</button></div></div>
          <div class="product-card"><div class="product-image">🔌</div><div class="product-info"><h3 class="product-name">أسلاك كهربائية</h3><p class="product-price">65 درهم</p><button class="product-btn">اشتري الآن</button></div></div>
          <div class="product-card"><div class="product-image">🧱</div><div class="product-info"><h3 class="product-name">عدة بناء خفيفة</h3><p class="product-price">180 درهم</p><button class="product-btn">اشتري الآن</button></div></div>
          <div class="product-card"><div class="product-image">🪛</div><div class="product-info"><h3 class="product-name">مفكات متنوعة</h3><p class="product-price">75 درهم</p><button class="product-btn">اشتري الآن</button></div></div>
        </div>
        <!-- Controls -->
        <button class="slider-controls prev-btn" id="prevBtn">‹</button>
        <button class="slider-controls next-btn" id="nextBtn">›</button>
      </div>
      <div class="slider-indicators" id="indicators"></div>
    </div>
  </section>

  <!-- Script -->
  <script>
    class ProductSlider {
      constructor() {
        this.track = document.getElementById("sliderTrack");
        this.prevBtn = document.getElementById("prevBtn");
        this.nextBtn = document.getElementById("nextBtn");
        this.indicators = document.getElementById("indicators");
        this.originalCards = document.querySelectorAll(".product-card");

        this.currentIndex = 0;
        this.cardWidth = 330;
        this.totalCards = this.originalCards.length;
        this.isTransitioning = false;
        this.autoSlideInterval = null;

        this.init();
        this.startAutoSlide();
      }

      init() {
        this.createInfiniteLoop();
        this.createIndicators();
        this.updateSlider();
        this.bindEvents();
      }

      createInfiniteLoop() {
        const clonedCards = Array.from(this.originalCards).map((card) =>
          card.cloneNode(true)
        );
        clonedCards.forEach((card) => this.track.appendChild(card));
        this.cards = document.querySelectorAll(".product-card");
        this.track.style.transform = `translateX(0px)`;
      }

      createIndicators() {
        this.indicators.innerHTML = "";
        for (let i = 0; i < this.totalCards; i++) {
          const indicator = document.createElement("div");
          indicator.className = "indicator";
          indicator.addEventListener("click", () => this.goToSlide(i));
          this.indicators.appendChild(indicator);
        }
      }

      updateSlider() {
        if (this.isTransitioning) return;
        const translateX = -this.currentIndex * this.cardWidth;
        this.track.style.transform = `translateX(${translateX}px)`;

        const indicators = this.indicators.querySelectorAll(".indicator");
        indicators.forEach((indicator, index) => {
          indicator.classList.toggle(
            "active",
            index === this.currentIndex % this.totalCards
          );
        });
      }

      goToSlide(index) {
        this.currentIndex = index;
        this.updateSlider();
      }

      nextSlide() {
        if (this.isTransitioning) return;
        this.currentIndex++;
        this.updateSlider();

        if (this.currentIndex >= this.totalCards) {
          this.resetToBeginning();
        }
      }

      prevSlide() {
        if (this.isTransitioning) return;
        this.currentIndex--;
        if (this.currentIndex < 0) {
          this.currentIndex = this.totalCards - 1;
        }
        this.updateSlider();
      }

      resetToBeginning() {
        this.isTransitioning = true;
        setTimeout(() => {
          this.track.style.transition = "none";
          this.currentIndex = 0;
          this.track.style.transform = `translateX(0px)`;
          setTimeout(() => {
            this.track.style.transition =
              "transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)";
            this.isTransitioning = false;
            this.updateSlider();
          }, 50);
        }, 800);
      }

      bindEvents() {
        this.nextBtn.addEventListener("click", () => {
          this.nextSlide();
          this.restartAutoSlide();
        });

        this.prevBtn.addEventListener("click", () => {
          this.prevSlide();
          this.restartAutoSlide();
        });

        let startX = 0;
        let currentX = 0;
        let isDragging = false;

        this.track.addEventListener("touchstart", (e) => {
          startX = e.touches[0].clientX;
          isDragging = true;
          this.stopAutoSlide();
        });

        this.track.addEventListener("touchmove", (e) => {
          if (!isDragging) return;
          currentX = e.touches[0].clientX;
          e.preventDefault();
        });

        this.track.addEventListener("touchend", () => {
          if (!isDragging) return;
          isDragging = false;
          const diff = startX - currentX;
          if (Math.abs(diff) > 50) {
            diff > 0 ? this.nextSlide() : this.prevSlide();
          }
          this.restartAutoSlide();
        });

        document.addEventListener("keydown", (e) => {
          if (e.key === "ArrowRight" || e.key === "ArrowLeft") {
            e.preventDefault();
            e.key === "ArrowRight" ? this.nextSlide() : this.prevSlide();
            this.restartAutoSlide();
          }
        });

        this.track.addEventListener("mouseenter", () => this.stopAutoSlide());
        this.track.addEventListener("mouseleave", () => this.startAutoSlide());
      }

      startAutoSlide() {
        this.stopAutoSlide();
        this.autoSlideInterval = setInterval(() => {
          this.nextSlide();
        }, 4000);
      }

      stopAutoSlide() {
        if (this.autoSlideInterval) {
          clearInterval(this.autoSlideInterval);
          this.autoSlideInterval = null;
        }
      }

      restartAutoSlide() {
        this.stopAutoSlide();
        this.startAutoSlide();
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      new ProductSlider();
    });
  </script>
</body>
</html>
